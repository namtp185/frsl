<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sequence diagram</title>
</head>
<body>
<textarea id="input" hidden>
graph TD
	initNode[Start] -->Step1(The Librarian selects the Lend Book function.)
	Step1 --> Step2(The system shows the lend_book window,<br/> gets the current date and assigns it to the book_loan date.)
	Step2 --> Step3(The Librarian enters a book copy id.)
	Step3 --> Step4(The system checks the book copy id.)
	Step4 --> decisionNode4{It is invalid}
	decisionNode4 -->|True| Step5(The system checks the book copy id.)
	decisionNode4 -->|False| Step6(The system checks the book copy id.)
	Step5 --> Step7(The system checks the book copy id.)
	Step7 --> Step4(The system checks the book copy id.)
</textarea>
<div style="display:none">
    Your code (for debugging):
    <pre id="preview"></pre>
</div>
<div id="output" style="margin:20px"></div>
  <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.js"></script>
<script>
var input = document.getElementById("input");
var preview = document.getElementById("preview");
var output = document.getElementById("output");
var renderBtn = document.getElementById("render");
mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      securityLevel: 'loose',
      sequence: {
       	actorMargin: 400,
      	messageMargin: 50,
      	mirrorActors:false
      },
	  flowchart:{
    	useMaxWidth:false,
    	htmlLabels:false,
    	curve:'cardinal',
	  },
});
preview.innerHTML = input.value;
mermaid.render('theGraph', input.value, function(svgCode) {
    output.innerHTML = svgCode;
});



</script>

<style>
</style>

</body>
</html>